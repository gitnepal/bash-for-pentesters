#!/bin/bash
TARGET="$1"
if [ -z $TARGET ]; then
	echo -e "[-] Usage: fetchip.sh <filename> [-] "
	exit
fi
if [ ! -f $TARGET ]; then
    echo -e "[+] ---------  File Not Found -------------- [+] "
    echo -e "[+] ---------  Check - FILE PATH ----------- [+] "
    exit
fi
newname=$(basename $TARGET | cut -d '.' -f1 )
ips=$(cat $TARGET | grep -o '[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}' | sort -u | tee $newname-ips.log )  
counter=$(echo "$ips" | wc -l)
echo " [+] ---------  $counter - IPs Fetched ----------- [+]"
echo "$ips"
